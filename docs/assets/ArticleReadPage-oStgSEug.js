import{_ as B,A as T,a as I,C as M,r as i,c as S,d as F,o as N,u as P,w as D,b as m,e as g,g as t,f as r,j as u,t as y,F as E,m as H,h as V,l as j,n as b,k as l}from"./index-BGUAd7T9.js";const q={class:"h-100"},z={key:0,class:"spinner-border text-primary",role:"status"},G={key:2,class:"h-100 main"},J={class:"title-div"},K=["innerHTML"],O={class:"h-interval"},Q={__name:"ArticleReadPage",setup(U){const d=new T,h=new I(d),f=new M(d),k=new j(h,f),s=i(null),o=i(null),v=P(),c=i(!0),a=i({title:"",text:"",preview:"",tags:[]}),w=S({get(){return a.value.text},set(e){a.value.text=e,a.value.preview=e==null?"":F.parse(e)}}),p=async()=>{c.value=!0,s.value=null;const e=await k.get({articleId:o.value});e.length>0&&(s.value=e[0],a.value.title=s.value.title,a.value.tags=s.value.tags,w.value=s.value.text),c.value=!1},A=()=>{const e=o.value;b.push({name:"ArticleEditPage",params:{id:e}})},x=()=>{b.push({name:"ArticlesListPage"})};return N(()=>{o.value=parseInt(v.params.id),p()}),D(()=>v.params.id,async e=>{o.value=parseInt(e),p()}),(e,n)=>{const C=u("TheSidebar"),L=u("NotFoundAlert"),R=u("TheMainLayout");return l(),m(R,null,{sidebar:g(()=>[V(C)]),"panel-main":g(()=>[t("div",q,[c.value?(l(),r("div",z,n[0]||(n[0]=[t("span",{class:"sr-only"},"Loading...",-1)]))):s.value==null?(l(),m(L,{key:1})):(l(),r("section",G,[t("div",J,[t("h2",null,y(a.value.title),1),t("div",null,[t("button",{class:"btn btn-link",onClick:A},n[1]||(n[1]=[t("i",{class:"fas fa-edit"},null,-1)])),t("button",{class:"btn btn-link button-cancel",onClick:x},n[2]||(n[2]=[t("i",{class:"fas fa-times"},null,-1)]))])]),t("div",{innerHTML:a.value.preview,class:"preview article-body-view"},null,8,K),t("div",O,[(l(!0),r(E,null,H(a.value.tags,_=>(l(),r("span",{class:"badge badge-info",key:_},y(_),1))),128))])]))])]),_:1})}}},X=B(Q,[["__scopeId","data-v-0a424a98"]]);export{X as default};
