"use strict";(self["webpackChunkportal"]=self["webpackChunkportal"]||[]).push([[525],{5603:function(e,t,o){o.r(t),o.d(t,{default:function(){return C}});var a=o(1033);const r={class:"h-100"},l=["innerHTML"],n={class:"d-flex h-interval"};function i(e,t,o,i,s,c){const d=(0,a.resolveComponent)("b-input"),u=(0,a.resolveComponent)("b-form-group"),m=(0,a.resolveComponent)("b-textarea"),h=(0,a.resolveComponent)("b-col"),p=(0,a.resolveComponent)("b-row"),v=(0,a.resolveComponent)("b-button"),f=(0,a.resolveComponent)("FullHeight"),g=(0,a.resolveComponent)("TheMainLayout");return(0,a.openBlock)(),(0,a.createBlock)(g,{"no-sidebar":""},{"panel-main":(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r,[(0,a.createVNode)(f,null,{header:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"label-sr-only":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"title",placeholder:"タイトル",modelValue:s.form.title,"onUpdate:modelValue":t[0]||(t[0]=e=>s.form.title=e)},null,8,["modelValue"])]),void 0,!0),_:1})])),footer:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"label-sr-only":""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",n,[(0,a.createVNode)(d,{name:"tags",placeholder:"タグ1 タグ2 ...",modelValue:s.form.tagsString,"onUpdate:modelValue":t[2]||(t[2]=e=>s.form.tagsString=e)},null,8,["modelValue"]),(0,a.createVNode)(v,{variant:"primary",class:"button-save",onClick:c.saveButtonClick},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" 保存 ")]),void 0,!0),_:1},8,["onClick"]),(0,a.createVNode)(v,{variant:"secondary",class:"button-cancel",to:{name:"ArticlesListPage"}},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" キャンセル ")]),void 0,!0),_:1})])]),void 0,!0),_:1})])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"h-100 pb-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{cols:"6",class:"h-100"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"text",placeholder:"本文","no-resize":"",class:"h-100",modelValue:c.text,"onUpdate:modelValue":t[1]||(t[1]=e=>c.text=e)},null,8,["modelValue"])]),void 0,!0),_:1}),(0,a.createVNode)(h,{cols:"6",class:"overflow-auto h-100"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",{innerHTML:s.form.preview},null,8,l)]),void 0,!0),_:1})]),void 0,!0),_:1})]),void 0,!0),_:1})])])),_:1})}o(825);var s=o(9866),c=o(7370),d=o(5191),u=o(4793),m=o(4559);const h=new d.Z,p=new c.Z(h),v=new m.Z(h),f=new u.Z(p,v);var g={name:"ArticleCreatePage",data(){return{categoryFound:null,categoryId:parseInt(this.$route.params.categoryId),form:{title:"",text:"",preview:"",tagsString:""}}},computed:{text:{get(){return this.form.text},set(e){this.form.text=e,this.form.preview=null==this.form.text?"":s.T.parse(this.form.text)}}},watch:{$route(e){this.categoryId=parseInt(e.params.categoryId),this.categoryFound=null,this.confirmCategoryExistence()}},mounted(){this.confirmCategoryExistence()},methods:{async confirmCategoryExistence(){const e=await v.get(this.categoryId);this.categoryFound=null!=e,!1===this.categoryFound&&this.showCatgoryNotFoundToast()},async saveButtonClick(){const{categoryId:e}=this,{title:t,text:o,tagsString:a}=this.form;if(null==this.categoryFound&&await this.confirmCategoryExistence(),!0!==this.categoryFound)return void this.showCatgoryNotFoundToast();const r=Array.from(new Set(a.split(" ").filter((e=>e.length>0))).values());await f.set({categoryId:e,title:t,text:o,tags:r}),this.$router.push({name:"ArticlesListPage"})},showCatgoryNotFoundToast(){this.$bvToast.toast("カテゴリが見つかりません。",{autoHideDelay:5e3,appendToast:!0})}}},x=o(3615);const w=(0,x.Z)(g,[["render",i],["__scopeId","data-v-179442c4"]]);var C=w},1429:function(e,t,o){o.r(t),o.d(t,{default:function(){return C}});var a=o(1033);const r={class:"h-100"},l=["innerHTML"],n={class:"d-flex h-interval"};function i(e,t,o,i,s,c){const d=(0,a.resolveComponent)("b-spinner"),u=(0,a.resolveComponent)("NotFoundAlert"),m=(0,a.resolveComponent)("b-input"),h=(0,a.resolveComponent)("b-form-group"),p=(0,a.resolveComponent)("b-textarea"),v=(0,a.resolveComponent)("b-col"),f=(0,a.resolveComponent)("b-row"),g=(0,a.resolveComponent)("b-button"),x=(0,a.resolveComponent)("FullHeight"),w=(0,a.resolveComponent)("TheMainLayout");return(0,a.openBlock)(),(0,a.createBlock)(w,{"no-sidebar":""},{"panel-main":(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r,[s.loading?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,variant:"primary",label:"Spinning"})):null==s.article?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1})):((0,a.openBlock)(),(0,a.createBlock)(x,{key:2},{header:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{"label-sr-only":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"title",placeholder:"タイトル",modelValue:s.form.title,"onUpdate:modelValue":t[0]||(t[0]=e=>s.form.title=e)},null,8,["modelValue"])]),void 0,!0),_:1})])),footer:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{"label-sr-only":""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",n,[(0,a.createVNode)(m,{name:"tags",placeholder:"タグ1 タグ2 ...",modelValue:s.form.tagsString,"onUpdate:modelValue":t[2]||(t[2]=e=>s.form.tagsString=e)},null,8,["modelValue"]),(0,a.createVNode)(g,{variant:"primary",class:"button-save",onClick:c.saveButtonClick},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" 保存 ")]),void 0,!0),_:1},8,["onClick"]),(0,a.createVNode)(g,{variant:"secondary",class:"button-cancel",to:{name:"ArticlesListPage"}},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" キャンセル ")]),void 0,!0),_:1})])]),void 0,!0),_:1})])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"h-100 pb-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{cols:"6",class:"h-100"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{name:"text",placeholder:"本文","no-resize":"",class:"h-100",modelValue:c.text,"onUpdate:modelValue":t[1]||(t[1]=e=>c.text=e)},null,8,["modelValue"])]),void 0,!0),_:1}),(0,a.createVNode)(v,{cols:"6",class:"overflow-auto h-100"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",{innerHTML:s.form.preview,class:"article-body-view"},null,8,l)]),void 0,!0),_:1})]),void 0,!0),_:1})]),void 0,!0),_:1}))])])),_:1})}o(825);var s=o(9866),c=o(7370),d=o(5191),u=o(4793),m=o(4559);const h=new d.Z,p=new c.Z(h),v=new m.Z(h),f=new u.Z(p,v);var g={name:"ArticleEditPage",data(){const e=parseInt(this.$route.params.id);return{article:null,articleId:e,loading:!0,form:{title:"",text:"",preview:"",tagsString:""}}},computed:{text:{get(){return this.form.text},set(e){this.form.text=e,this.form.preview=null==this.form.text?"":s.T.parse(this.form.text)}}},watch:{$route(e){this.articleId=parseInt(e.params.id),this.loadArticle()}},mounted(){this.articleId=parseInt(this.$route.params.id),this.loadArticle()},methods:{async loadArticle(){this.loading=!0,this.article=null;const{articleId:e}=this,t=await f.get({articleId:e});t.length>0&&(this.article=t[0],this.form.title=this.article.title,this.text=this.article.text,this.form.tagsString=this.article.tags?.join(" ")??""),this.loading=!1},async saveButtonClick(){const{id:e,categoryId:t}=this.article,{title:o,text:a,tagsString:r}=this.form,l=Array.from(new Set(r.split(" ").filter((e=>e.length>0))).values());await f.set({id:e,categoryId:t,title:o,text:a,tags:l}),this.$router.push({name:"ArticleReadPage",parems:{id:e}})}}},x=o(3615);const w=(0,x.Z)(g,[["render",i],["__scopeId","data-v-50f12d90"]]);var C=w},8664:function(e,t,o){o.r(t),o.d(t,{default:function(){return b}});var a=o(1033);const r=e=>((0,a.pushScopeId)("data-v-76a784f1"),e=e(),(0,a.popScopeId)(),e),l={class:"h-100"},n={key:2,class:"h-100 main"},i={class:"title-div"},s=r((()=>(0,a.createElementVNode)("i",{class:"fas fa-edit"},null,-1))),c=r((()=>(0,a.createElementVNode)("i",{class:"fas fa-times"},null,-1))),d=["innerHTML"],u={class:"h-interval"};function m(e,t,o,r,m,h){const p=(0,a.resolveComponent)("TheSidebar"),v=(0,a.resolveComponent)("b-spinner"),f=(0,a.resolveComponent)("NotFoundAlert"),g=(0,a.resolveComponent)("b-button"),x=(0,a.resolveComponent)("b-badge"),w=(0,a.resolveComponent)("TheMainLayout");return(0,a.openBlock)(),(0,a.createBlock)(w,null,{sidebar:(0,a.withCtx)((()=>[(0,a.createVNode)(p)])),"panel-main":(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",l,[m.loading?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,variant:"primary",label:"Spinning"})):null==m.article?((0,a.openBlock)(),(0,a.createBlock)(f,{key:1})):((0,a.openBlock)(),(0,a.createElementBlock)("section",n,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("h2",null,(0,a.toDisplayString)(m.form.title),1),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(g,{variant:"link",to:{name:"ArticleEditPage",params:{id:m.article.id}}},{default:(0,a.withCtx)((()=>[s]),void 0,!0),_:1},8,["to"]),(0,a.createVNode)(g,{variant:"link",class:"button-cancel",to:{name:"ArticlesListPage"}},{default:(0,a.withCtx)((()=>[c]),void 0,!0),_:1})])]),(0,a.createElementVNode)("div",{innerHTML:m.form.preview,class:"preview article-body-view"},null,8,d),(0,a.createElementVNode)("div",u,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(m.form.tags,(e=>((0,a.openBlock)(),(0,a.createBlock)(x,{key:e,variant:"info"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e),1)]),void 0,!0),_:2},1024)))),128))])]))])])),_:1})}var h=o(9866),p=o(7370),v=o(5191),f=o(4793),g=o(4559);const x=new v.Z,w=new p.Z(x),C=new g.Z(x),V=new f.Z(w,C);var y={name:"ArticleReadPage",data(){const e=parseInt(this.$route.params.id);return{article:null,articleId:e,loading:!0,form:{title:"",text:"",preview:"",tags:[]}}},computed:{text:{get(){return this.form.text},set(e){this.form.text=e,this.form.preview=null==this.form.text?"":h.T.parse(this.form.text)}}},watch:{$route(e){this.articleId=parseInt(e.params.id),this.loadArticle()}},mounted(){this.articleId=parseInt(this.$route.params.id),this.loadArticle()},methods:{async loadArticle(){this.loading=!0,this.article=null;const{articleId:e}=this,t=await V.get({articleId:e});t.length>0&&(this.article=t[0],this.form.title=this.article.title,this.text=this.article.text,this.form.tags=this.article.tags),this.loading=!1}}},N=o(3615);const k=(0,N.Z)(y,[["render",m],["__scopeId","data-v-76a784f1"]]);var b=k}}]);
//# sourceMappingURL=articles.b74b0f36.js.map